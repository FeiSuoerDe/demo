> **项目引擎版本:** `Godot 4.4.1`
> **.NET版本:** `8.0.411`
>
> **项目规划:**
> 本文档旨在规划一个太空题材的游戏，核心玩法复刻丐版《远行星号》(Starsector)。
> 欢迎大家提出自己的想法和建议。

---

## 🚀 核心循环

> **贸易** 积累资金 → **升级** 飞船/购买新船 → **建立** 殖民地 → **提升** 势力关系 → **解锁** 高级内容 → **挑战** 更高风险/回报的贸易

---

## 🌍 1. 势力系统

### 1.1 势力类型
-   **联邦 (Federation)** 🏛️：秩序阵营，控制核心星系，提供合法贸易和安全，但税收较高。
-   **海盗 (Pirates)** 🏴‍☠️：混乱阵营，在边缘星系活动，提供黑市交易，但危险且不可靠。
-   **商会 (Merchant Guild)** ⚖️：中立商业组织，提供贸易信息和贷款服务。
-   **外星帝国 (Alien Empire)** 👽：排外势力，拥有独特科技和商品，需要特殊许可才能交易。

### 1.2 势力关系
-   **关系值**：从 `-100` (敌对) 到 `+100` (盟友)。
-   **影响**：
	-   👍 **关系好**：交易折扣、特殊任务、军事支援。
	-   👎 **关系差**：高额关税、通缉、拒绝入港。
-   **提升关系**：
	-   完成任务。
	-   捐赠资源或金钱。
	-   攻击敌对势力。
-   **降低关系**：
	-   攻击盟友。
	-   走私违禁品被抓。
	-   拒绝重要任务。

### 1.3 势力任务
-   **贸易任务** 📦：运送特定货物到指定地点。
-   **护航任务** 🛡️：保护重要舰队通过危险区域。
-   **打击任务** 💥：清剿海盗据点。
-   **探索任务** 🔭：发现新星系或资源点。

---

## ⚔️ 2. 战斗系统

### 2.1 飞船系统

#### 飞船类型
| 类型 | 货舱容量 | 武器槽 | 护盾强度 | 机动性 | 价格范围 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| 轻型货船 | 小 | 1 | 弱 | 高 | 50,000 Cr |
| 重型货船 | 大 | 2 | 中等 | 低 | 200,000 Cr |
| 武装商船 | 中等 | 4 | 强 | 中等 | 500,000 Cr |
| 巡洋舰 | 小 | 6 | 很强 | 中等 | 1,200,000 Cr |

#### 飞船升级
-   **武器**：激光炮、导弹、电磁炮等，不同武器有不同伤害和射程。
-   **护盾**：增强护盾容量和恢复速度。
-   **引擎**：提高速度和机动性。
-   **特殊模块**：
	-   货舱扩容
	-   隐形装置
	-   采矿激光
	-   扫描阵列

### 2.2 战斗机制
-   **实时战斗**：玩家在太空中直接控制飞船，使用武器攻击敌人。
-   **战术选择**：
	-   *攻击*：瞄准敌方子系统（武器、引擎等）。
	-   *防御*：分配能量到护盾或引擎。
	-   *撤退*：启动跃迁引擎（需要时间充能）。
-   **战斗结果**：
	-   *胜利*：获得战利品（货物、零件）、提升声望。
	-   *失败*：损失货物、飞船损坏、被俘虏（支付赎金）。
-   **非战斗选项**：贿赂、谈判、投降。

### 2.3 货物系统
-   **货物类型**：
	-   **普通商品** 🥫：食物、矿石、工业品（低利润）。
	-   **奢侈品** 💎：艺术品、珠宝（高利润，但需求少）。
	-   **违禁品** ☠️：武器、毒品（极高利润，被查获会受罚）。
-   **动态市场**：商品价格受供需、事件、势力关系影响。

---

## 🪐 3. 殖民地系统

### 3.1 建立殖民地
-   **选址要求**：
	-   无人占领的星球或小行星带。
	-   拥有资源（矿物、气体、水）。
	-   战略位置（贸易路线附近）。
-   **建立步骤**：
	1.  购买殖民船（需特殊飞船）。
	2.  运送初始资源（金属、食物、设备）。
	3.  部署殖民舱。

### 3.2 殖民地建筑
| 建筑类型 | 功能 | 成本 | 维护费 |
| :--- | :--- | :--- | :--- |
| 居住区 | 增加人口容量 | 100,000 Cr | 5,000 Cr |
| 矿场 | 生产金属矿物 | 150,000 Cr | 10,000 Cr |
| 精炼厂 | 将矿物加工为工业品 | 200,000 Cr | 15,000 Cr |
| 贸易站 | 自动交易商品，赚取利润 | 300,000 Cr | 20,000 Cr |
| 船坞 | 建造/修理飞船 | 500,000 Cr | 30,000 Cr |
| 防御平台 | 抵抗海盗攻击 | 250,000 Cr | 12,000 Cr |

### 3.3 殖民地管理
-   **资源管理**：食物、电力、矿物、人口。
-   **事件处理**：
	-   *海盗袭击*：损失资源，需加强防御。
	-   *移民潮*：人口增加，生产力提升。
	-   *自然灾害*：资源减产，需修复设施。
-   **收益**：
	-   税收（人口）。
	-   资源产出（出售矿物或工业品）。
	-   贸易利润（自动贸易）。
-   **升级**：提高效率、容量或解锁新功能。

---

## 🗺️ 4. 游戏流程

1.  **开局**：选择起始飞船和初始资金（`50,000 Cr`），从一个小空间站开始。
2.  **早期**：
	-   进行短途贸易积累资金。
	-   升级飞船货舱和引擎。
	-   与势力建立基础关系。
3.  **中期**：
	-   购买更好的飞船。
	-   建立第一个殖民地。
	-   参与势力任务。
4.  **后期**：
	-   管理多个殖民地。
	-   组建舰队。
	-   影响银河政治格局。
	-   追求最终目标（如：控制关键贸易节点、成为首富等）。

---

## 💰 5. 经济系统

-   **动态经济**：
	-   商品价格随玩家行为波动（大量购买会导致涨价）。
	-   随机事件影响市场（如战争导致武器需求激增）。
-   **金融系统**：
	-   银行贷款（需抵押，有利息）。
	-   股票市场（投资殖民地或公司）。
	-   保险（��货物或飞船投保）。

---

## 🛠️ 6. 技术实现要点

-   **星系生成**：程序化生成星系，确保每个游戏不同。
-   **AI行为**：势力AI根据玩家行为动态调整策略。
-   **存档系统**：支持大型银河状态保存。

---

> **设计目标**：提供深度策略和高自由度，让玩家体验从一个小商人成长为星际大亨的旅程。
